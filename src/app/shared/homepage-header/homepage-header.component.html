<header>
  <div id="top-header">
    <div class="container" fxLayout="row" fxLayoutAlign="space-between">
      <ul fxLayout="row" class="header-links">
        <li>
          <a class="text-white"><i class="fa fa-phone"></i> +84905054200</a>
        </li>
        <li>
          <a class="text-white"
            ><i class="fa fa-envelope"></i> vitechShop247@email.com</a
          >
        </li>
        <li>
          <a class="text-white"
            ><i class="fa fa-map-marker"></i> 341 Phố Vọng, TP Hà Nội</a
          >
        </li>
      </ul>
      <ul class="header-links" fxLayout="row">
        <!-- <li>
          <a href="#" class="text-white"
            ><i class="fa fa-dollar-sign"></i> USD</a
          >
        </li> -->
        <li *ngIf="isLogin()">
          <a (click)="renderToAccount()" class="text-white"
            ><i class="fa fa-user"></i> Tài khoản của tôi</a
          >
        </li>
        <li *ngIf="!isLogin()">
          <a (click)="renderTo('signin')" class="text-white"
            ><i class="fa fa-sign-in"></i> Đăng nhập </a
          >
        </li>
        <li *ngIf="isLogin()" (click)="signout()">
          <a class="text-white"><i class="fa fa-sign-out"></i> Đăng ký</a>
        </li>
      </ul>
    </div>
  </div>

  <div id="header" fxLayout="row">
    <div class="container">
      <div class="row">
        <div class="col-md-3" fxLayout="row" fxLayoutAlign="center center">
          <div class="header-logo">
            <a href="#" class="logo">
              <img src="../../../assets/img/AdminLTELogo.png" alt="" />
            </a>
          </div>
        </div>

        <div class="col-md-6" fxLayout="row" fxLayoutAlign="center center">
          <div class="header-search w-100">
            <form>
              <select
                class="input-select"
                [(ngModel)]="categorySearch"
                [ngModelOptions]="{ standalone: true }"
                ngDefaultControl
              >
                <option value="All" selected>Tất cả</option>
                <option
                  value="{{ cate.name }}"
                  *ngFor="let cate of categoryData"
                >
                  {{ cate.name }}
                </option>
              </select>
              <input
                class="input"
                placeholder="Search here"
                [(ngModel)]="searchText"
                [ngModelOptions]="{ standalone: true }"
              />
              <button
                class="search-btn"
                (click)="search()"
                (keyup.enter)="search()"
              >
                Search
              </button>
            </form>
          </div>
        </div>

        <!-- ACCOUNT -->
        <div
          class="col-md-3 clearfix"
          fxFlex="row"
          fxLayoutAlign="center center"
        >
          <div class="header-ctn" fxFlex="row" fxLayoutAlign="center center">
            <div (click)="renderTo('account/notification')" class="dropdown">
              <a
                (click)="showNotification()"
                fxLayout="column"
                fxLayoutAlign="center center"
              >
                <i class="fa fa-bell"></i>
                <span>Thông báo</span>
                <div class="qty" *ngIf="notificationsData?.length > 0">
                  {{ notificationsData?.length }}
                </div>
              </a>
              <!-- <div [hidden]="!isShowNotification" class="cart-dropdown"></div> -->
            </div>

            <div class="dropdown">
              <a
                (click)="showCart()"
                fxLayout="column"
                fxLayoutAlign="center center"
              >
                <i class="fa fa-shopping-cart"></i>
                <span>Giỏ hàng</span>
                <div class="qty">{{ cartLength }}</div>
              </a>
              <div [hidden]="!isShowCart" class="cart-dropdown">
                <div class="cart-list">
                  <div
                    class="product-widget"
                    *ngFor="let item of getCartData()"
                  >
                    <div class="product-img">
                      <img [src]="item.product?.imgUrl" class="w-100" alt="" />
                    </div>
                    <div class="product-body">
                      <h3 class="product-name">
                        <a href="#">{{
                          item.product?.name! | truncateText : 45
                        }}</a>
                      </h3>
                      <h4 class="product-price">
                        <span class="qty">{{ item.quantity }}x</span
                        >{{ item.product?.actualPrice }} đ
                      </h4>
                    </div>
                    <button class="delete" (click)="removeItem(item.id!)">
                      <i class="fa fa-window-close"></i>
                    </button>
                  </div>
                </div>
                <div class="cart-summary">
                  <small>{{ cartLength }} sản phẩm đã chọn</small>
                  <h5>Tạm tính: {{ getTotalValues }} đ</h5>
                </div>
                <div class="cart-btns">
                  <a (click)="renderTo('cart')">Xem giỏ hàng</a>
                  <a (click)="renderTo('checkout')"
                    >Đặt hàng <i class="fa fa-arrow-circle-right"></i
                  ></a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<nav id="navigation">
  <div class="container">
    <div id="responsive-nav">
      <ul class="main-nav nav navbar-nav" fxLayout="row" fxLayoutGap="30px">
        <li
          [ngClass]="currentRoute == '/homepage' ? 'active' : ' '"
          (click)="renderTo('homepage')"
        >
          <a>Home</a>
        </li>
        <!-- <li><a>Hot Deals</a></li> -->
        <!-- <li [ngClass]="currentRoute == '/categories' ? 'active' : ' '">
          <a (click)="renderTo('categories')">Categories</a>
        </li>
        <li [ngClass]="currentRoute == '/brands' ? 'active' : ' '">
          <a (click)="renderTo('brands')">Brands</a>
        </li> -->
        <li [ngClass]="currentRoute == '/store' ? 'active' : ' '">
          <a (click)="renderTo('store')">Store</a>
        </li>
        <li><a>Policies</a></li>
      </ul>
    </div>
  </div>
</nav>
